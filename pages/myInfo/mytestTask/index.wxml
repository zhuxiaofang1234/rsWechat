<view class="details-wrap">
  <view class='search-area area-flex'>
    <view class="area-left">
      <Select prop-array='{{selectArray}}' bind:myget="getData"></Select>
    </view>
    <view class="area-right">
      <view class="weui-search-bar-1">
        <view class="search-form">
          <!--搜索框-->
          <view class="weui-search-bar__box">
            <icon class="searchIcon" type="search" size="18"></icon>
            <input type="text" class="searchInput" placeholder="检测编号" value="{{inputVal}}" focus="{{inputShowed}}" bindinput="inputTyping" bindconfirm="search" />
            <view class="delsearchIcon" wx:if="{{inputVal.length > 0}}" bindtap="clearInput">
              <icon type="clear" size="18"></icon>
            </view>
          </view>
          <!--input搜索框结束-->
          <label class="weui-search-bar__label" hidden="{{inputShowed}}" bindtap="showInput">
            <icon class="weui-icon-search" type="search" size="18"></icon>
            <view class="weui-search-bar__text">检测编号</view>
          </label>
        </view>
        <view class="weui-search-bar__cancel-btn" hidden="{{!inputShowed}}" bindtap="hideInput">取消</view>
      </view>
    </view>
  </view>
  <view class="main">
    <scroll-view class="main-wrapper" scroll-y style="height:(100%)" bindscrolltolower="loadMore" lower-threshold="1">
      <block wx:if="{{testList.length>0}}">
        <view class="test-item area-flex" bindtap='toTestTaskDetails' data-id="{{item.id}}" wx:if="{{testList.length>0}}" wx:for="{{testList}}" wx:key="{{index}}" data-confirm="{{item.confirmStatus}}">
          <view class="test-number area-flex">{{index+1}}</view>
          <view class="area-right test-content">
            <view class="testInfo mb-32">{{item.projectName}}</view>
            <view class="testInfo mb-32">{{item.serialNo}}</view>
            <view class="testInfo">
              <view class="test-way-info">
                <text class="testWay">{{item.testModeName}}</text>
                <text class="testWay-num">({{item.testMum}})</text>
              </view>
              <view class="testStatus text-orange" wx:if="{{item.confirmStatus==0}}">待确认</view>
              <view class="testStatus" wx:elif="{{item.confirmStatus==1}}">已确认</view>
              <view class="testStatus" wx:elif="{{item.confirmStatus==2}}">已驳回</view>
              <view class="testStatus" wx:else>未知状态</view>
            </view>
          </view>
        </view>
        <view class='data-loading' hidden='{{hidden}}'>
          {{loadingText}}
        </view>
      </block>
      <view wx:else class="nodata">暂无检测任务记录！</view>
    </scroll-view>
  </view>
</view>